import{r as p,a as w,o as b,s as h,b as n,c as a,d as s,t as o,F as c,e as r,f as m,u as g,g as f}from"./index-Dq5ZTgDu.js";const y="/assets/user-BLmldQG4.png",R="/assets/kefu-BhATpFbc.png",_="data:image/png;base64,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",G={class:"page-body"},B={class:"ai"},S={class:"cs-window"},Z={class:"left-body"},D={class:"sub-header"},M={style:{"margin-left":"10px"}},O={class:"time"},T={class:"overdue"},F={class:"header"},x={class:"context"},W={style:{"font-size":"14px"}},X={class:"suggest"},N={class:"context"},P={style:{"font-weight":"bold","background-color":"#fe864f"}},U={style:{display:"flex","font-size":"14px"}},z={class:"cc"},Y={class:"body-item"},K={class:"desc"},J={style:{"font-weight":"bold"}},H={class:"body-item"},q={style:{"font-size":"14px"}},L={class:"chat-window"},V={class:"chat-messages"},j={key:0,class:"message received-message"},$=["src"],ss={class:"message-boarder-send"},ts={class:"message-text"},es={key:1,class:"message sent-message"},os={class:"message-boarder-rece"},ns={class:"message-text"},as=["src"],is={class:"ai"},As={class:"chat-window"},ls={class:"user-point"},ds={style:{"font-weight":"700",color:"#fe864f"}},cs={class:"left-body"},rs={class:"user-question"},gs=["src"],us={style:{"font-size":"20px","font-weight":"700",color:"#00877f"}},ps={class:"ai-create-header"},hs=["src"],vs={key:0,class:"ai-create-content1"},Is={class:"content1-header"},ms={class:"content1-body"},fs={class:"content1-law"},ys={class:"law-name"},Cs={class:"law-content"},Qs={key:1,class:"ai-create-content2"},ks={class:"content2-header"},Es={class:"content2-body"},Rs={__name:"connectCust",setup(ws){const v=p({message:[],rightDatas:[]}),I=w(""),u=p({data:[]}),A=p({data:{}});b(()=>{Q(),k();const i=new WebSocket("ws://172.22.229.128:8891/call?userId=yujiangjun");i.onopen=function(){},i.onerror=function(t){console.log(`发生了websocket错误:${t}`)},i.onmessage=function(t){let e=JSON.parse(t.data);e.channelType==="agent"&&(console.log(e),console.log("发起请求获取问题点"),C(e.text)),v.message.push(JSON.parse(t.data))},window.workbench=new window.WorkbenchSdk({dom:"call",height:"50px",instanceId:"aiHelpAgent",regionId:"cn-shanghai",ajaxPath:"/aliyun/ccc/api",onInit(){window.workbench.register()},onRegister(t){console.log("软电话注册"),console.log(t)},onLogIn(){console.log("登录成功")},onLogOut(){console.log("登出")},onBreak(){console.log("小休回调")},onReady(){console.log("空闲回调")},onErrorNotify(t){console.warn(t)},onCallDialing(t){console.log("拨打前的回调"),console.log(t)}})});async function C(i){(await h.get("/suggest/getSuggest",{params:{pressurePoint:"证据",questionPointKeyWords:i}})).data.forEach(e=>{u.data.push(e)}),console.log(u.data)}async function Q(){let i=await h.get("/suggest/getPressurePoint",{params:{}});console.log("获取施压点"),console.log(i),I.value=i.data}async function k(){let i=await h.get("/suggest/getCuiShouInfo",{params:{}});A.data=i.data,console.log("催收信息：",A.data)}return(i,t)=>(n(),a("div",G,[s("div",B,[s("div",S,[t[5]||(t[5]=s("div",{class:"ai-header"},[s("p",{style:{"font-size":"25px"}},"催收方案")],-1)),s("div",Z,[s("div",D,[s("div",null,[t[0]||(t[0]=s("span",{style:{"font-weight":"bold",color:"black","margin-left":"8px"}},"历史逾期总结",-1)),s("span",M,"逾期"+o(A.data.overdueTimes)+"次",1)])]),s("div",O,[(n(!0),a(c,null,r(A.data.overdueMonthList,(e,l)=>(n(),a("div",{class:"time-item",key:l},o(e.overdueMonth),1))),128))]),s("div",T,[s("div",F,[s("span",null,"最高逾期天数： "+o(A.data.highOverdueDay)+"天",1)]),s("div",x,[s("span",W,o(A.data.overdueSumUp),1)])]),s("div",X,[t[2]||(t[2]=s("div",{class:"header"},[s("span",{style:{"font-weight":"bold"}},"本次建议策略")],-1)),s("div",N,[s("div",null,[t[1]||(t[1]=m("施压点: ")),s("span",P,o(A.data.pressurePoint),1)]),s("div",U,o(A.data.adviceStrategies),1)])]),s("div",z,[t[4]||(t[4]=s("div",{class:"header"},[s("span",{style:{"font-weight":"bold"}},"沟通大纲")],-1)),(n(!0),a(c,null,r(A.data.communicateOutline,(e,l)=>(n(),a("div",{class:"body",key:l},[s("div",Y,[t[3]||(t[3]=s("div",{style:{width:"10px",height:"25px","background-color":"#fe864f"}},null,-1)),s("div",K,[s("span",J,o(e.communicatePoint),1)])]),s("div",H,[s("div",q,o(e.communicateContent),1)])]))),128))])])])]),s("div",null,[s("div",L,[t[8]||(t[8]=s("div",{class:"chat-header"},[s("div",{id:"call"},[s("div")])],-1)),s("div",V,[(n(!0),a(c,null,r(v.message,(e,l)=>(n(),a("div",{key:l},[e.channelType==="customer"?(n(),a("div",j,[s("img",{src:g(y),alt:"接收者头像"},null,8,$),s("div",ss,[s("div",ts,o(e.text),1)])])):f("",!0),t[6]||(t[6]=s("div",{style:{height:"10px"}},null,-1)),e.channelType==="agent"?(n(),a("div",es,[s("div",os,[s("div",ns,o(e.text),1)]),s("img",{src:g(R),alt:"发送者头像"},null,8,as)])):f("",!0),t[7]||(t[7]=s("div",{style:{height:"10px"}},null,-1))]))),128))])])]),s("div",is,[s("div",As,[t[12]||(t[12]=s("div",{class:"ai-header"},[s("p",{style:{"font-size":"25px"}},"AI助理")],-1)),s("div",ls,[s("div",null,[t[9]||(t[9]=m(" 未完成:")),s("span",ds,o(I.value),1)])]),s("div",cs,[(n(!0),a(c,null,r(u.data,(e,l)=>(n(),a("div",{key:l},[s("div",rs,[s("img",{src:g(y),alt:"接收者头像",class:"ai-user-avatar"},null,8,gs),s("div",null,[t[10]||(t[10]=s("span",{style:{}},"客户问题点：",-1)),s("span",us,o(e.questionPoint),1)])]),s("div",ps,[s("img",{src:g(_)},null,8,hs),t[11]||(t[11]=s("p",null,[s("span",{style:{"font-weight":"700"}},"AI 为您推荐一下三种话术")],-1))]),(n(!0),a(c,null,r(e.prompt,(d,E)=>(n(),a("div",{key:E},[d.lawTitle?(n(),a("div",vs,[s("div",Is,o(d.title),1),s("div",ms,o(d.content),1),s("div",fs,[s("div",ys,o(d.lawTitle),1),s("div",Cs,o(d.lawContent),1)])])):(n(),a("div",Qs,[s("div",ks,[s("p",null,o(d.title),1)]),s("div",Es,[s("p",null,o(d.content),1)])]))]))),128))]))),128))])])])]))}};export{Rs as default};
